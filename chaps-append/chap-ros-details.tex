\chapter{ROS Messages}\label{app:ros_comms}
    This Appendix provides a detailed account of the \ac{ros} messages used in the \ac{ros} nodes described in chapter \ref{chap:hardware}. Table \ref{tab:base_pubs} and \ref{tab:base_subs} describe the \ac{ros} publishers and subscribers present on the base station.
    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | l | X | l |}
            \hline
            \multicolumn{4}{|c|}{\textbf{Base Station Publishers}} \\ \hline
            \textbf{Name} & \textbf{Data Type} & \textbf{Description} & \textbf{Frequency} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            command\_data & HexapodCommands & Various robot command parameters. & On change \\ \hline
            mode & Int32 & Specifies the oporationg mode of the robot. & On change. \\ \hline
        \end{tabularx}
        \caption{Base station publishers}
        \label{tab:base_pubs}
    \end{table}
    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | l | X |}
            \hline
            \multicolumn{3}{|c|}{\textbf{Base Station Subscribers}} \\ \hline
            \textbf{Name} & \textbf{Data Type} & \textbf{Description} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            rgb\_data & Image & The processed color image from the robot. \\ \hline
            d\_data & Image & The processed color depth from the robot. \\ \hline
            hmap\_data & Image & The heightmap generated on the robot. \\ \hline
            scoremap\_data & Image & The scoremap generated on the robot. \\ \hline
            LOGDATA & String & General logs from the robot. \\ \hline
        \end{tabularx}
        \caption{Base station subscribers}
        \label{tab:base_subs}
    \end{table}

    \newpage
    \noindent
    Table \ref{tab:jetson_pubs} and \ref{tab:jetson_subs} describe the \ac{ros} publishers and subscribers present on the Jetson Nano.

    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | l | X | l |}
            \hline
            \multicolumn{4}{|c|}{\textbf{Jetson Publishers}} \\ \hline
            \textbf{Name} & \textbf{Data Type} & \textbf{Description} & \textbf{Frequency} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            effector\_targets & EffectorTargets & Data indicating which feet to move where, and what type of interpolation to use. & On change\\ \hline
            rgb\_data & Image & The processed color image from the \ac{rgbd} camera. & 15Hz. \\ \hline
            d\_data & Image & The processed depth image from the \ac{rgbd} camera. & 15Hz. \\ \hline
            hmap\_data & Image & The heightmap generated on the robot. & 15Hz. \\ \hline
            scoremap\_data & Image & The scoremap generated on the robot. & 15Hz. \\ \hline
            position & Vector3 & The localised position of the robot & 15Hz \\ \hline
            rotation & Quat & The localised rotation of the robot & 15Hz \\ \hline
        \end{tabularx}
        \caption{Jetson publishers}
        \label{tab:jetson_pubs}
    \end{table}
    % \newpage
    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | l | X |}
            \hline
            \multicolumn{3}{|c|}{\textbf{Jetson Subscribers}} \\ \hline
            \textbf{Name}  & \textbf{Data Type} & \textbf{Description} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            command\_data & HexapodCommands & Operator commands. \\ \hline
            color/image\_raw & Image & Color image from the camera. \\ \hline
            aligned\_depth\_to\_color/image\_raw & Image & Depth image from the camera. \\ \hline
        \end{tabularx}
        \caption{Jetson subscribers}
        \label{tab:jetson_subs}
    \end{table}

    \newpage
    \noindent
    Table \ref{tab:teensy_pubs} and \ref{tab:teensy_subs} describe the puvblishers and subscribers present on the Teensy \ac{mcu}.
    \begin{table}[h]
        \begin{tabularx}{\textwidth}{| l | l | X | l |}
            \hline
            \multicolumn{4}{|c|}{\textbf{Teensy Publishers}} \\ \hline
            \textbf{Name} & \textbf{Data Type} & \textbf{Description} & \textbf{Frequency} \\ \hline
            LOGDATA & String & General logs. & 10Hz \\ \hline
            effector\_current\_position & Eigen::Vector3d & Current feet positions. & 10Hz \\ \hline
        \end{tabularx}
        \caption{Teensy publishers}
        \label{tab:teensy_pubs}
    \end{table}
    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | l | X |}
            \hline
            \multicolumn{3}{|c|}{\textbf{Teensy subscribers}} \\ \hline
            \textbf{Name} & \textbf{Data Type} & \textbf{Description} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            command\_data & HexapodCommands & The color image from the \ac{rgbd} camera. \\ \hline
            effector\_targets & EffectorTargets & Data indicating which feet to move where, and what type of interpolation to use.\\ \hline
            mode & Int32 & Receives mode data from the base station \\ \hline
        \end{tabularx}
        \caption{Teensy subscribers}
        \label{tab:teensy_subs}
    \end{table}

    \newpage
    \noindent 
    Lastly, the custom \ac{ros} data types used are defined in table \ref{tab:data_types}.
    \begin{table}[h]
        \centering
        \begin{tabularx}{\textwidth}{| l | p{\widthof{float32\([2]\) walk\_dir}} | X |}
            \hline
            \textbf{Name} & \textbf{Type Definition} & \textbf{Description} \\ \hline
            % walk\_dir & Description & Data Type & Frequency \\ \hline
            Vector3 & float\([3]\) data. & A vector in 3D space.  \\
            \hline
            EffectorTargets & Vector3\([6]\) targets \newline 
                            bool\([6]\) swinging. & Data describing the targets of the robot's feet and which feet are swinging. \\
            \hline
            HexapodCommands & float32\([2]\) walk\_dir \newline
                            float32 speed \newline
                            float32 height & Data packet containing various command parameters for the robot. \\
            \hline
        \end{tabularx}
        \caption{\ac{ros} data type descriptions}
        \label{tab:data_types}
    \end{table}